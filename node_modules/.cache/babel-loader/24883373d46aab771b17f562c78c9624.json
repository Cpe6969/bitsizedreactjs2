{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/franc/Downloads/BITE-SIZED/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/franc/Downloads/BITE-SIZED/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{PLAYLIST_CREATE_REQUEST,PLAYLIST_CREATE_SUCCESS,PLAYLIST_CREATE_FAIL,PLAYLIST_LIST_REQUEST,PLAYLIST_LIST_SUCCESS,PLAYLIST_LIST_FAIL,PLAYLIST_DELETE_REQUEST,PLAYLIST_DELETE_SUCCESS,PLAYLIST_DELETE_FAIL}from'../constants/playlistConstants';export var createPlaylist=function createPlaylist(playlist){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var _getState,userInfo,config,formData,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:PLAYLIST_CREATE_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{'Content-Type':'multipart/form-data',Authorization:\"Bearer \".concat(userInfo.token)}};formData=new FormData();formData.append('title',playlist.title);formData.append('image',playlist.image);formData.append('link',playlist.link);_context.next=10;return axios.post(\"/api/playlists/create/\",formData,config);case 10:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:PLAYLIST_CREATE_SUCCESS,payload:data});// Retrieve the list of playlists and update the state\ndispatch(listPlaylists());_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);dispatch({type:PLAYLIST_CREATE_FAIL,payload:_context.t0.response&&_context.t0.response.data.detail?_context.t0.response.data.detail:_context.t0.message});case 19:case\"end\":return _context.stop();}},_callee,null,[[0,16]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var listPlaylists=function listPlaylists(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,getState){var _getState2,userInfo,config,_yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:PLAYLIST_LIST_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context2.next=6;return axios.get(\"/api/playlists/list/\",config);case 6:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;dispatch({type:PLAYLIST_LIST_SUCCESS,payload:data});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:PLAYLIST_LIST_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.detail?_context2.t0.response.data.detail:_context2.t0.message});case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var deletePlaylist=function deletePlaylist(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,getState){var _getState3,userInfo,config;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:PLAYLIST_DELETE_REQUEST});_getState3=getState(),userInfo=_getState3.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context3.next=6;return axios.delete(\"/api/playlists/\".concat(id,\"/\"),config);case 6:dispatch({type:PLAYLIST_DELETE_SUCCESS,payload:id});// Retrieve the list of playlists and update the state\ndispatch(listPlaylists());_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);dispatch({type:PLAYLIST_DELETE_FAIL,payload:_context3.t0.response&&_context3.t0.response.data.detail?_context3.t0.response.data.detail:_context3.t0.message});case 13:case\"end\":return _context3.stop();}},_callee3,null,[[0,10]]);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","PLAYLIST_CREATE_REQUEST","PLAYLIST_CREATE_SUCCESS","PLAYLIST_CREATE_FAIL","PLAYLIST_LIST_REQUEST","PLAYLIST_LIST_SUCCESS","PLAYLIST_LIST_FAIL","PLAYLIST_DELETE_REQUEST","PLAYLIST_DELETE_SUCCESS","PLAYLIST_DELETE_FAIL","createPlaylist","playlist","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","getState","_getState","userInfo","config","formData","_yield$axios$post","data","wrap","_callee$","_context","prev","next","type","userLogin","headers","Authorization","concat","token","FormData","append","title","image","link","post","sent","payload","listPlaylists","t0","response","detail","message","stop","_x","_x2","apply","arguments","_ref2","_callee2","_getState2","_yield$axios$get","_callee2$","_context2","get","_x3","_x4","deletePlaylist","id","_ref3","_callee3","_getState3","_callee3$","_context3","delete","_x5","_x6"],"sources":["C:/Users/franc/Downloads/BITE-SIZED/frontend/src/actions/playlistActions.js"],"sourcesContent":["import axios from 'axios';\r\nimport {\r\n  PLAYLIST_CREATE_REQUEST,\r\n  PLAYLIST_CREATE_SUCCESS,\r\n  PLAYLIST_CREATE_FAIL,\r\n  PLAYLIST_LIST_REQUEST,\r\n  PLAYLIST_LIST_SUCCESS,\r\n  PLAYLIST_LIST_FAIL,\r\n  PLAYLIST_DELETE_REQUEST,\r\n  PLAYLIST_DELETE_SUCCESS,\r\n  PLAYLIST_DELETE_FAIL,\r\n} from '../constants/playlistConstants';\r\n\r\nexport const createPlaylist = (playlist) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PLAYLIST_CREATE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const formData = new FormData();\r\n    formData.append('title', playlist.title);\r\n    formData.append('image', playlist.image);\r\n    formData.append('link', playlist.link);\r\n\r\n\r\n    const { data } = await axios.post(`/api/playlists/create/`, formData, config);\r\n\r\n    dispatch({ type: PLAYLIST_CREATE_SUCCESS, payload: data });\r\n\r\n    // Retrieve the list of playlists and update the state\r\n    dispatch(listPlaylists());\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PLAYLIST_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const listPlaylists = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PLAYLIST_LIST_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.get(`/api/playlists/list/`, config);\r\n\r\n    dispatch({ type: PLAYLIST_LIST_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PLAYLIST_LIST_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deletePlaylist = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PLAYLIST_DELETE_REQUEST });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    await axios.delete(`/api/playlists/${id}/`, config);\r\n\r\n    dispatch({ type: PLAYLIST_DELETE_SUCCESS, payload: id });\r\n\r\n    // Retrieve the list of playlists and update the state\r\n    dispatch(listPlaylists());\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PLAYLIST_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}