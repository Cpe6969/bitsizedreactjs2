{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col}from'react-bootstrap';import News from'../components/News';import Loader from'../components/Loader';import Message from'../components/Message';import{listNews}from'../actions/newsActions';import{useDispatch,useSelector}from'react-redux';import Paginate from'../components/Paginate';import NewsCarousel from'../components/NewsCarousel';import SearchBox from'../components/SearchBox';// import SearchBox component\nimport'../styles/Header.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewsListScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var newsList=useSelector(function(state){return state.newsList;});var error=newsList.error,loading=newsList.loading,news=newsList.news,page=newsList.page,pages=newsList.pages;var keyword=history.location.search;useEffect(function(){dispatch(listNews(keyword));},[dispatch,keyword]);var submitHandler=function submitHandler(e){e.preventDefault();if(keyword){history.push(\"/newslist\".concat(keyword,\"&search=\").concat(keyword));}else{history.push(\"/newslist/search/\".concat(keyword));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBox,{submitHandler:submitHandler}),/*#__PURE__*/_jsx(\"br\",{}),!keyword&&/*#__PURE__*/_jsx(NewsCarousel,{}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:news.map(function(newsitem){return/*#__PURE__*/_jsx(Col,{sm:12,md:3,lg:2,xl:12,children:/*#__PURE__*/_jsx(News,{newsitem:newsitem})},newsitem._id);})}),/*#__PURE__*/_jsx(Paginate,{page:page,pages:pages,keyword:keyword,className:\"home-screen-pagination\"})]})]});}export default NewsListScreen;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","News","Loader","Message","listNews","useDispatch","useSelector","Paginate","NewsCarousel","SearchBox","jsx","_jsx","jsxs","_jsxs","NewsListScreen","_ref","history","dispatch","newsList","state","error","loading","news","page","pages","keyword","location","search","submitHandler","e","preventDefault","push","concat","children","variant","className","map","newsitem","sm","md","lg","xl","_id"],"sources":["C:/Users/franc/Downloads/BITE-SIZED/frontend/src/screens/NewsListScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport News from '../components/News';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { listNews } from '../actions/newsActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Paginate from '../components/Paginate';\r\nimport NewsCarousel from '../components/NewsCarousel';\r\nimport SearchBox from '../components/SearchBox'; // import SearchBox component\r\nimport '../styles/Header.css';\r\n\r\nfunction NewsListScreen({ history }) {\r\n  const dispatch = useDispatch();\r\n  const newsList = useSelector(state => state.newsList);\r\n  const { error, loading, news, page, pages } = newsList;\r\n\r\n  let keyword = history.location.search;\r\n\r\n  useEffect(() => {\r\n    dispatch(listNews(keyword));\r\n  }, [dispatch, keyword]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (keyword) {\r\n      history.push(`/newslist${keyword}&search=${keyword}`);\r\n    } else {\r\n      history.push(`/newslist/search/${keyword}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SearchBox submitHandler={submitHandler} />\r\n      <br/>\r\n      {!keyword && <NewsCarousel />}\r\n      {/* <News /> */}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <div>\r\n<Row className=\"justify-content-center\">\r\n            {news.map((newsitem) => (\r\n              <Col key={newsitem._id} sm={12} md={3} lg={2} xl={12}>\r\n                <News newsitem={newsitem} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Paginate\r\n            page={page}\r\n            pages={pages}\r\n            keyword={keyword}\r\n            className=\"home-screen-pagination\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsListScreen;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,OAASC,QAAQ,KAAQ,wBAAwB,CACjD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,YAAY,KAAM,4BAA4B,CACrD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAE;AACjD,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAc,IAAX,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAC/B,GAAM,CAAAC,QAAQ,CAAGZ,WAAW,EAAE,CAC9B,GAAM,CAAAa,QAAQ,CAAGZ,WAAW,CAAC,SAAAa,KAAK,QAAI,CAAAA,KAAK,CAACD,QAAQ,GAAC,CACrD,GAAQ,CAAAE,KAAK,CAAiCF,QAAQ,CAA9CE,KAAK,CAAEC,OAAO,CAAwBH,QAAQ,CAAvCG,OAAO,CAAEC,IAAI,CAAkBJ,QAAQ,CAA9BI,IAAI,CAAEC,IAAI,CAAYL,QAAQ,CAAxBK,IAAI,CAAEC,KAAK,CAAKN,QAAQ,CAAlBM,KAAK,CAEzC,GAAI,CAAAC,OAAO,CAAGT,OAAO,CAACU,QAAQ,CAACC,MAAM,CAErC7B,SAAS,CAAC,UAAM,CACdmB,QAAQ,CAACb,QAAQ,CAACqB,OAAO,CAAC,CAAC,CAC7B,CAAC,CAAE,CAACR,QAAQ,CAAEQ,OAAO,CAAC,CAAC,CAEvB,GAAM,CAAAG,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,CAAC,CAAK,CAC3BA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIL,OAAO,CAAE,CACXT,OAAO,CAACe,IAAI,aAAAC,MAAA,CAAaP,OAAO,aAAAO,MAAA,CAAWP,OAAO,EAAG,CACvD,CAAC,IAAM,CACLT,OAAO,CAACe,IAAI,qBAAAC,MAAA,CAAqBP,OAAO,EAAG,CAC7C,CACF,CAAC,CAED,mBACEZ,KAAA,QAAAoB,QAAA,eACEtB,IAAA,CAACF,SAAS,EAACmB,aAAa,CAAEA,aAAc,EAAG,cAC3CjB,IAAA,SAAK,CACJ,CAACc,OAAO,eAAId,IAAA,CAACH,YAAY,IAAG,CAE5Ba,OAAO,cACNV,IAAA,CAACT,MAAM,IAAG,CACRkB,KAAK,cACPT,IAAA,CAACR,OAAO,EAAC+B,OAAO,CAAC,QAAQ,CAAAD,QAAA,CAAEb,KAAK,EAAW,cAE3CP,KAAA,QAAAoB,QAAA,eACRtB,IAAA,CAACZ,GAAG,EAACoC,SAAS,CAAC,wBAAwB,CAAAF,QAAA,CAC1BX,IAAI,CAACc,GAAG,CAAC,SAACC,QAAQ,qBACjB1B,IAAA,CAACX,GAAG,EAAoBsC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,cACnDtB,IAAA,CAACV,IAAI,EAACoC,QAAQ,CAAEA,QAAS,EAAG,EADpBA,QAAQ,CAACK,GAAG,CAEhB,EACP,CAAC,EACE,cACN/B,IAAA,CAACJ,QAAQ,EACPgB,IAAI,CAAEA,IAAK,CACXC,KAAK,CAAEA,KAAM,CACbC,OAAO,CAAEA,OAAQ,CACjBU,SAAS,CAAC,wBAAwB,EAClC,GAEL,GACG,CAEV,CAEA,cAAe,CAAArB,cAAc"},"metadata":{},"sourceType":"module"}