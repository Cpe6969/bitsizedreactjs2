{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col}from'react-bootstrap';import News from'../components/News';import Sport from'../components/Sport';import Loader from'../components/Loader';import Message from'../components/Message';import{listNews}from'../actions/newsActions';import{listSports}from'../actions/sportActions';import{useDispatch,useSelector}from'react-redux';import Paginate from'../components/Paginate';import NewsCarousel from'../components/NewsCarousel';import SearchBox from'../components/SearchBox';// import SearchBox component\nimport'../styles/Header.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewsListScreen(_ref){var history=_ref.history;var dispatch=useDispatch();var newsList=useSelector(function(state){return state.newsList;});var newsError=newsList.error,newsLoading=newsList.loading,news=newsList.news,newsPage=newsList.page,newsPages=newsList.pages;var sportsList=useSelector(function(state){return state.sportsList;});var sportsError=sportsList.error,sportsLoading=sportsList.loading,sports=sportsList.sports,sportsPage=sportsList.page,sportsPages=sportsList.pages;var keyword=history.location.search;useEffect(function(){dispatch(listNews(keyword));dispatch(listSports(keyword));},[dispatch,keyword]);var submitHandler=function submitHandler(e){e.preventDefault();if(keyword){history.push(\"/newslist\".concat(keyword,\"&search=\").concat(keyword));}else{history.push(\"/newslist/search/\".concat(keyword));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBox,{submitHandler:submitHandler}),/*#__PURE__*/_jsx(\"br\",{}),!keyword&&/*#__PURE__*/_jsx(NewsCarousel,{}),newsLoading?/*#__PURE__*/_jsx(Loader,{}):newsError?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:newsError}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:news.map(function(newsitem){return/*#__PURE__*/_jsx(Col,{sm:12,md:3,lg:2,xl:12,children:/*#__PURE__*/_jsx(News,{newsitem:newsitem})},newsitem._id);})}),/*#__PURE__*/_jsx(Paginate,{page:newsPage,pages:newsPages,keyword:keyword,className:\"home-screen-pagination\"})]})]});}export default NewsListScreen;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","News","Sport","Loader","Message","listNews","listSports","useDispatch","useSelector","Paginate","NewsCarousel","SearchBox","jsx","_jsx","jsxs","_jsxs","NewsListScreen","_ref","history","dispatch","newsList","state","newsError","error","newsLoading","loading","news","newsPage","page","newsPages","pages","sportsList","sportsError","sportsLoading","sports","sportsPage","sportsPages","keyword","location","search","submitHandler","e","preventDefault","push","concat","children","variant","className","map","newsitem","sm","md","lg","xl","_id"],"sources":["C:/Users/franc/Desktop/bitesized-deploy-frontend/frontend/src/screens/NewsListScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport News from '../components/News';\r\nimport Sport from '../components/Sport';\r\n\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { listNews } from '../actions/newsActions';\r\nimport { listSports } from '../actions/sportActions';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Paginate from '../components/Paginate';\r\nimport NewsCarousel from '../components/NewsCarousel';\r\nimport SearchBox from '../components/SearchBox'; // import SearchBox component\r\nimport '../styles/Header.css';\r\n\r\nfunction NewsListScreen({ history }) {\r\n  const dispatch = useDispatch();\r\n  const newsList = useSelector(state => state.newsList);\r\n  const { error: newsError, loading: newsLoading, news, page: newsPage, pages: newsPages } = newsList;\r\n  \r\n  const sportsList = useSelector(state => state.sportsList);\r\n  const { error: sportsError, loading: sportsLoading, sports, page: sportsPage, pages: sportsPages } = sportsList;\r\n  \r\n  let keyword = history.location.search;\r\n\r\n  useEffect(() => {\r\n    dispatch(listNews(keyword));\r\n    dispatch(listSports(keyword));\r\n\r\n  }, [dispatch, keyword]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (keyword) {\r\n      history.push(`/newslist${keyword}&search=${keyword}`);\r\n    } else {\r\n      history.push(`/newslist/search/${keyword}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SearchBox submitHandler={submitHandler} />\r\n      <br/>\r\n      {!keyword && <NewsCarousel />}\r\n      {/* <Sport /> */}\r\n      {/* <News /> */}\r\n      {newsLoading ? (\r\n        <Loader />\r\n      ) : newsError ? (\r\n        <Message variant=\"danger\">{newsError}</Message>\r\n      ) : (\r\n        <div>\r\n<Row className=\"justify-content-center\">\r\n            {news.map((newsitem) => (\r\n              <Col key={newsitem._id} sm={12} md={3} lg={2} xl={12}>\r\n                <News newsitem={newsitem} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n         \r\n          \r\n          <Paginate\r\n            page={newsPage}\r\n            pages={newsPages}\r\n            keyword={keyword}\r\n            className=\"home-screen-pagination\"\r\n          />\r\n        </div>\r\n      )}\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsListScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}